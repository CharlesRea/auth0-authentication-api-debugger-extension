module.exports=function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="/build/",n(0)}([function(e,n,t){"use strict";var o=t(1);e.exports=o.fromExpress(t(2))},function(e,n){e.exports=require("webtask-tools")},function(e,n,t){"use strict";var o=(t(3),t(4)),r=t(5),a=t(6),s=t(7),i=(t(1),t(8)),l=(t(8).middlewares,t(10)),c=t(22),u=t(23),d=(t(24).ManagementClient,t(25)),p=s.compile(t(97)),f=s.compile(t(98)),v=r();v.use(a.json()),v.use(a.urlencoded({extended:!1})),v.use(t(99)),v.get("/pkce",function(e,n){var t=d.base64url(o.randomBytes(32));return n.json({verifier:t,verifier_challenge:d.base64url(o.createHash("sha256").update(t).digest())})}),v.get("/hash",function(e,n){n.send(f({hash:d.syntaxHighlight(e.query),id_token:d.jwt(e.query&&e.query.id_token),access_token:d.jwt(e.query&&e.query.access_token)}))}),v.post("/request",function(e,n){var t=e.body.request;delete e.body.request,n.send(f({request:d.syntaxHighlight(t),response:d.syntaxHighlight(e.body),id_token:d.jwt(e.body&&e.body.id_token),access_token:d.jwt(e.body&&e.body.access_token)}))}),v.get("/meta",function(e,n){n.status(200).send(u)});var h=function(e,n){var t={domain:e.webtaskContext.data.AUTH0_DOMAIN,clientId:e.webtaskContext.data.AUTH0_CLIENT_ID,clientSecret:e.webtaskContext.data.AUTH0_CLIENT_SECRET};l.managementApi.getClient(t).then(function(t){t.clients.getAll(function(t,o){try{o=c.sortBy(o,function(e){return e.name});var r=e.headers;delete r["x-wt-params"],n.send(p({method:e.method,domain:e.webtaskContext.data.AUTH0_DOMAIN,clients:o,client_id:o[0].client_id,client_secret:o[0].client_secret,baseUrl:i.urlHelpers.getBaseUrl(e),headers:d.syntaxHighlight(e.headers),body:d.syntaxHighlight(e.body),query:d.syntaxHighlight(e.query),authorization_code:e.query&&e.query.code,samlResponse:d.samlResponse(e.body&&e.body.SAMLResponse),wsFedResult:d.wsFedResult(e.body&&e.body.wresult),id_token:d.jwt(e.body&&e.body.id_token),access_token:d.jwt(e.body&&e.body.access_token)}))}catch(e){console.log(e),n.json(e)}})})};v.get("*",h),v.post("*",h),e.exports=v},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("crypto")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("handlebars")},function(e,n,t){const o=t(9),r=t(11),a=t(13);e.exports.createServer=o.createServer,e.exports.urlHelpers=r,e.exports.middlewares=a},function(e,n,t){const o=t(10),r=t(1);e.exports.createServer=function(e){return r.fromExpress(o.createServer(e))}},function(e,n){e.exports=require("auth0-extension-tools")},function(e,n,t){const o=t(12),r=function(e,n){var t=o.parse(e).pathname||"";return t=t.replace(n,"").replace(/^\/|\/$/g,""),t.startsWith("/")||(t="/"+t),t.endsWith("/")||(t+="/"),t};e.exports.getBasePath=function(e){return r(e.originalUrl||"",e.path)},e.exports.getBaseUrl=function(e){const n=o.parse(e.originalUrl||"").pathname||"";return o.format({protocol:"production"!==process.env.NODE_ENV?"http":"https",host:e.get("host"),pathname:n.replace(e.path,"")})}},function(e,n){e.exports=require("url")},function(e,n,t){e.exports.authenticateUser=t(14),e.exports.requireUser=t(17),e.exports.errorHandler=t(18),e.exports.managementApiClient=t(19),e.exports.validateHookToken=t(20),e.exports.webtaskConfig=t(21)},function(e,n,t){const o=t(15),r=t(16),a=t(10).UnauthorizedError;e.exports=function(e,n){return o({secret:r.expressJwtSecret({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:"https://"+e+"/.well-known/jwks.json",handleSigningKeyError:function(e,n){return n(e instanceof r.SigningKeyNotFoundError?new a("A token was provided with an invalid kid"):e)}}),audience:n,issuer:"https://"+e+"/",algorithms:["RS256"]})}},function(e,n){e.exports=require("express-jwt")},function(e,n){e.exports=require("jwks-rsa")},function(e,n,t){const o=t(10).UnauthorizedError;e.exports=function(e,n,t){return e.user?t():t(new o("Authentication required for this endpoint."))}},function(e,n){e.exports=function(e){return function(n,t,o,r){return e&&e(n),n&&n.status?(o.status(n.status),o.json({error:n.code||n.name,message:n.message||n.name})):(o.status(n.status||500),"production"===process.env.NODE_ENV?o.json({error:"InternalServerError",message:n.message||n.name}):o.json({error:"InternalServerError",message:n.message||n.name,details:{message:n.message,status:n.status,stack:n.stack}}))}}},function(e,n,t){const o=t(10);e.exports=function(e){return function(n,t,r){const a=n;o.managementApi.getClient(e).then(function(e){return a.auth0=e,r()}).catch(function(e){r(e)})}}},function(e,n,t){const o=t(10);e.exports=function(e,n,t){if(null===e||void 0===e)throw new o.ArgumentError("Must provide the domain");if("string"!=typeof e||0===e.length)throw new o.ArgumentError("The provided domain is invalid: "+e);if(null===n||void 0===n)throw new o.ArgumentError("Must provide the webtaskUrl");if("string"!=typeof n||0===n.length)throw new o.ArgumentError("The provided webtaskUrl is invalid: "+n);if(null===t||void 0===t)throw new o.ArgumentError("Must provide the extensionSecret");if("string"!=typeof t||0===t.length)throw new o.ArgumentError("The provided extensionSecret is invalid: "+t);return function(r){if(null===r||void 0===r)throw new o.ArgumentError("Must provide the hookPath");if("string"!=typeof r||0===r.length)throw new o.ArgumentError("The provided hookPath is invalid: "+r);return function(a,s,i){if(a.headers.authorization&&"Bearer"===a.headers.authorization.split(" ")[0]){const l=a.headers.authorization.split(" ")[1];try{if(o.validateHookToken(e,n,r,t,l))return i()}catch(e){return i(e)}}return i(new o.HookTokenError("Hook token missing for the call to: "+r))}}}},function(e,n,t){const o=t(10);e.exports=function(e){return function(n,t,r){return n.webtaskContext&&e.setProvider(o.configProvider.fromWebtaskContext(n.webtaskContext)),r()}}},function(e,n){e.exports=require("lodash")},function(e,n){e.exports={title:"Auth0 Protocol Debugger",name:"auth0-protocol-debugger-extension",version:"1.0.0",author:"auth0",description:"This is a Hello World extension",type:"application",repository:"https://github.com/auth0-extensions/auth0-protocol-debugger-extension",keywords:["auth0","extension"],auth0:{scopes:"read:clients read:client_keys",createClient:!0}}},function(e,n){e.exports=require("auth0")},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=t(26),a=o(r),s=t(94),i=o(s),l=t(22),c=t(96),u=function(e){var n="",t=/(>)(<)(\/*)/g;e=e.toString().replace(t,"$1\r\n$2$3");var o=0,r=e.split("\r\n");for(var a in r){var s=r[a],i=0;s.match(/.+<\/\w[^>]*>$/)?i=0:s.match(/^<\/\w/)?0!==o&&(o-=1):i=s.match(/^<\w[^>]*[^\/]>.*$/)?1:0;for(var l="",c=0;c<o;c++)l+="  ";n+=l+s+"\r\n",o+=i}return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},d=function(e){return"string"!=typeof e&&(e=(0,i.default)(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var n="json-value";return/^"/.test(e)?n=/:$/.test(e)?"json-key":"json-string":/true|false/.test(e)&&(n="json-value"),'<span class="'+n+'">'+e+"</span>"})};e.exports.wsFedResult=function(e){if(!e||!e.length)return null;try{return u(e)}catch(n){return e}},e.exports.samlResponse=function(e){if(!e||!e.length)return null;try{var n=new Buffer(e,"base64").toString();return u(n)}catch(n){return e}},e.exports.jwt=function(e){if(!e||0!==e.indexOf("ey"))return null;try{var n=c.decode(e,{complete:!0});return d(n)}catch(n){return e}},e.exports.base64url=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},e.exports.syntaxHighlight=function(e){try{var n=function(){var n=l.keys(e);if(!n.length)return{v:null};var t={};return n.sort().forEach(function(n){t[n]=e[n]}),{v:d(t)}}();if("object"===("undefined"==typeof n?"undefined":(0,a.default)(n)))return n.v}catch(n){return(0,i.default)(e,null,2)}}},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=t(27),a=o(r),s=t(78),i=o(s),l="function"==typeof i.default&&"symbol"==typeof a.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};n.default="function"==typeof i.default&&"symbol"===l(a.default)?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":"undefined"==typeof e?"undefined":l(e)}},function(e,n,t){e.exports={default:t(28),__esModule:!0}},function(e,n,t){t(29),t(73),e.exports=t(77).f("iterator")},function(e,n,t){"use strict";var o=t(30)(!0);t(33)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,n=this._t,t=this._i;return t>=n.length?{value:void 0,done:!0}:(e=o(n,t),this._i+=e.length,{value:e,done:!1})})},function(e,n,t){var o=t(31),r=t(32);e.exports=function(e){return function(n,t){var a,s,i=String(r(n)),l=o(t),c=i.length;return l<0||l>=c?e?"":void 0:(a=i.charCodeAt(l),a<55296||a>56319||l+1===c||(s=i.charCodeAt(l+1))<56320||s>57343?e?i.charAt(l):a:e?i.slice(l,l+2):(a-55296<<10)+(s-56320)+65536)}}},function(e,n){var t=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:t)(e)}},function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,n,t){"use strict";var o=t(34),r=t(35),a=t(50),s=t(40),i=t(51),l=t(52),c=t(53),u=t(69),d=t(71),p=t(70)("iterator"),f=!([].keys&&"next"in[].keys()),v="@@iterator",h="keys",g="values",b=function(){return this};e.exports=function(e,n,t,m,_,y,x){c(t,n,m);var w,$,k,S=function(e){if(!f&&e in E)return E[e];switch(e){case h:return function(){return new t(this,e)};case g:return function(){return new t(this,e)}}return function(){return new t(this,e)}},j=n+" Iterator",O=_==g,I=!1,E=e.prototype,T=E[p]||E[v]||_&&E[_],C=T||S(_),A=_?O?S("entries"):C:void 0,R="Array"==n?E.entries||T:T;if(R&&(k=d(R.call(new e)),k!==Object.prototype&&(u(k,j,!0),o||i(k,p)||s(k,p,b))),O&&T&&T.name!==g&&(I=!0,C=function(){return T.call(this)}),o&&!x||!f&&!I&&E[p]||s(E,p,C),l[n]=C,l[j]=b,_)if(w={values:O?C:S(g),keys:y?C:S(h),entries:A},x)for($ in w)$ in E||a(E,$,w[$]);else r(r.P+r.F*(f||I),n,w);return w}},function(e,n){e.exports=!0},function(e,n,t){var o=t(36),r=t(37),a=t(38),s=t(40),i="prototype",l=function(e,n,t){var c,u,d,p=e&l.F,f=e&l.G,v=e&l.S,h=e&l.P,g=e&l.B,b=e&l.W,m=f?r:r[n]||(r[n]={}),_=m[i],y=f?o:v?o[n]:(o[n]||{})[i];f&&(t=n);for(c in t)u=!p&&y&&void 0!==y[c],u&&c in m||(d=u?y[c]:t[c],m[c]=f&&"function"!=typeof y[c]?t[c]:g&&u?a(d,o):b&&y[c]==d?function(e){var n=function(n,t,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,t)}return new e(n,t,o)}return e.apply(this,arguments)};return n[i]=e[i],n}(d):h&&"function"==typeof d?a(Function.call,d):d,h&&((m.virtual||(m.virtual={}))[c]=d,e&l.R&&_&&!_[c]&&s(_,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(e,n,t){var o=t(39);e.exports=function(e,n,t){if(o(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,o){return e.call(n,t,o)};case 3:return function(t,o,r){return e.call(n,t,o,r)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n,t){var o=t(41),r=t(49);e.exports=t(45)?function(e,n,t){return o.f(e,n,r(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){var o=t(42),r=t(44),a=t(48),s=Object.defineProperty;n.f=t(45)?Object.defineProperty:function(e,n,t){if(o(e),n=a(n,!0),o(t),r)try{return s(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var o=t(43);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){e.exports=!t(45)&&!t(46)(function(){return 7!=Object.defineProperty(t(47)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){e.exports=!t(46)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n,t){var o=t(43),r=t(36).document,a=o(r)&&o(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,n,t){var o=t(43);e.exports=function(e,n){if(!o(e))return e;var t,r;if(n&&"function"==typeof(t=e.toString)&&!o(r=t.call(e)))return r;if("function"==typeof(t=e.valueOf)&&!o(r=t.call(e)))return r;if(!n&&"function"==typeof(t=e.toString)&&!o(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n,t){e.exports=t(40)},function(e,n){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,n){e.exports={}},function(e,n,t){"use strict";var o=t(54),r=t(49),a=t(69),s={};t(40)(s,t(70)("iterator"),function(){return this}),e.exports=function(e,n,t){e.prototype=o(s,{next:r(1,t)}),a(e,n+" Iterator")}},function(e,n,t){var o=t(42),r=t(55),a=t(67),s=t(64)("IE_PROTO"),i=function(){},l="prototype",c=function(){var e,n=t(47)("iframe"),o=a.length,r="<",s=">";for(n.style.display="none",t(68).appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write(r+"script"+s+"document.F=Object"+r+"/script"+s),e.close(),c=e.F;o--;)delete c[l][a[o]];return c()};e.exports=Object.create||function(e,n){var t;return null!==e?(i[l]=o(e),t=new i,i[l]=null,t[s]=e):t=c(),void 0===n?t:r(t,n)}},function(e,n,t){var o=t(41),r=t(42),a=t(56);e.exports=t(45)?Object.defineProperties:function(e,n){r(e);for(var t,s=a(n),i=s.length,l=0;i>l;)o.f(e,t=s[l++],n[t]);return e}},function(e,n,t){var o=t(57),r=t(67);e.exports=Object.keys||function(e){return o(e,r)}},function(e,n,t){var o=t(51),r=t(58),a=t(61)(!1),s=t(64)("IE_PROTO");e.exports=function(e,n){var t,i=r(e),l=0,c=[];for(t in i)t!=s&&o(i,t)&&c.push(t);for(;n.length>l;)o(i,t=n[l++])&&(~a(c,t)||c.push(t));return c}},function(e,n,t){var o=t(59),r=t(32);e.exports=function(e){return o(r(e))}},function(e,n,t){var o=t(60);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var o=t(58),r=t(62),a=t(63);e.exports=function(e){return function(n,t,s){var i,l=o(n),c=r(l.length),u=a(s,c);if(e&&t!=t){for(;c>u;)if(i=l[u++],i!=i)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===t)return e||u||0;return!e&&-1}}},function(e,n,t){var o=t(31),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,n,t){var o=t(31),r=Math.max,a=Math.min;e.exports=function(e,n){return e=o(e),e<0?r(e+n,0):a(e,n)}},function(e,n,t){var o=t(65)("keys"),r=t(66);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,n,t){var o=t(36),r="__core-js_shared__",a=o[r]||(o[r]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,n){var t=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+o).toString(36))}},function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,n,t){e.exports=t(36).document&&document.documentElement},function(e,n,t){var o=t(41).f,r=t(51),a=t(70)("toStringTag");e.exports=function(e,n,t){e&&!r(e=t?e:e.prototype,a)&&o(e,a,{configurable:!0,value:n})}},function(e,n,t){var o=t(65)("wks"),r=t(66),a=t(36).Symbol,s="function"==typeof a,i=e.exports=function(e){return o[e]||(o[e]=s&&a[e]||(s?a:r)("Symbol."+e))};i.store=o},function(e,n,t){var o=t(51),r=t(72),a=t(64)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,n,t){var o=t(32);e.exports=function(e){return Object(o(e))}},function(e,n,t){t(74);for(var o=t(36),r=t(40),a=t(52),s=t(70)("toStringTag"),i=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var c=i[l],u=o[c],d=u&&u.prototype;d&&!d[s]&&r(d,s,c),a[c]=a.Array}},function(e,n,t){"use strict";var o=t(75),r=t(76),a=t(52),s=t(58);e.exports=t(33)(Array,"Array",function(e,n){this._t=s(e),this._i=0,this._k=n},function(){var e=this._t,n=this._k,t=this._i++;return!e||t>=e.length?(this._t=void 0,r(1)):"keys"==n?r(0,t):"values"==n?r(0,e[t]):r(0,[t,e[t]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(e,n){e.exports=function(){}},function(e,n){e.exports=function(e,n){return{value:n,done:!!e}}},function(e,n,t){n.f=t(70)},function(e,n,t){e.exports={default:t(79),__esModule:!0}},function(e,n,t){t(80),t(91),t(92),t(93),e.exports=t(37).Symbol},function(e,n,t){"use strict";var o=t(36),r=t(51),a=t(45),s=t(35),i=t(50),l=t(81).KEY,c=t(46),u=t(65),d=t(69),p=t(66),f=t(70),v=t(77),h=t(82),g=t(83),b=t(84),m=t(87),_=t(42),y=t(58),x=t(48),w=t(49),$=t(54),k=t(88),S=t(90),j=t(41),O=t(56),I=S.f,E=j.f,T=k.f,C=o.Symbol,A=o.JSON,R=A&&A.stringify,q="prototype",U=f("_hidden"),D=f("toPrimitive"),P={}.propertyIsEnumerable,M=u("symbol-registry"),N=u("symbols"),H=u("op-symbols"),L=Object[q],F="function"==typeof C,z=o.QObject,B=!z||!z[q]||!z[q].findChild,W=a&&c(function(){return 7!=$(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,n,t){var o=I(L,n);o&&delete L[n],E(e,n,t),o&&e!==L&&E(L,n,o)}:E,J=function(e){var n=N[e]=$(C[q]);return n._k=e,n},K=F&&"symbol"==typeof C.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof C},G=function(e,n,t){return e===L&&G(H,n,t),_(e),n=x(n,!0),_(t),r(N,n)?(t.enumerable?(r(e,U)&&e[U][n]&&(e[U][n]=!1),t=$(t,{enumerable:w(0,!1)})):(r(e,U)||E(e,U,w(1,{})),e[U][n]=!0),W(e,n,t)):E(e,n,t)},Y=function(e,n){_(e);for(var t,o=b(n=y(n)),r=0,a=o.length;a>r;)G(e,t=o[r++],n[t]);return e},V=function(e,n){return void 0===n?$(e):Y($(e),n)},Q=function(e){var n=P.call(this,e=x(e,!0));return!(this===L&&r(N,e)&&!r(H,e))&&(!(n||!r(this,e)||!r(N,e)||r(this,U)&&this[U][e])||n)},X=function(e,n){if(e=y(e),n=x(n,!0),e!==L||!r(N,n)||r(H,n)){var t=I(e,n);return!t||!r(N,n)||r(e,U)&&e[U][n]||(t.enumerable=!0),t}},Z=function(e){for(var n,t=T(y(e)),o=[],a=0;t.length>a;)r(N,n=t[a++])||n==U||n==l||o.push(n);return o},ee=function(e){for(var n,t=e===L,o=T(t?H:y(e)),a=[],s=0;o.length>s;)!r(N,n=o[s++])||t&&!r(L,n)||a.push(N[n]);return a};F||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),n=function(t){this===L&&n.call(H,t),r(this,U)&&r(this[U],e)&&(this[U][e]=!1),W(this,e,w(1,t))};return a&&B&&W(L,e,{configurable:!0,set:n}),J(e)},i(C[q],"toString",function(){return this._k}),S.f=X,j.f=G,t(89).f=k.f=Z,t(86).f=Q,t(85).f=ee,a&&!t(34)&&i(L,"propertyIsEnumerable",Q,!0),v.f=function(e){return J(f(e))}),s(s.G+s.W+s.F*!F,{Symbol:C});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ne.length>te;)f(ne[te++]);for(var ne=O(f.store),te=0;ne.length>te;)h(ne[te++]);s(s.S+s.F*!F,"Symbol",{for:function(e){return r(M,e+="")?M[e]:M[e]=C(e)},keyFor:function(e){if(K(e))return g(M,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){B=!0},useSimple:function(){B=!1}}),s(s.S+s.F*!F,"Object",{create:V,defineProperty:G,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),A&&s(s.S+s.F*(!F||c(function(){var e=C();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var n,t,o=[e],r=1;arguments.length>r;)o.push(arguments[r++]);return n=o[1],"function"==typeof n&&(t=n),!t&&m(n)||(n=function(e,n){if(t&&(n=t.call(this,e,n)),!K(n))return n}),o[1]=n,R.apply(A,o)}}}),C[q][D]||t(40)(C[q],D,C[q].valueOf),d(C,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},function(e,n,t){var o=t(66)("meta"),r=t(43),a=t(51),s=t(41).f,i=0,l=Object.isExtensible||function(){return!0},c=!t(46)(function(){return l(Object.preventExtensions({}))}),u=function(e){s(e,o,{value:{i:"O"+ ++i,w:{}}})},d=function(e,n){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!l(e))return"F";if(!n)return"E";u(e)}return e[o].i},p=function(e,n){if(!a(e,o)){if(!l(e))return!0;if(!n)return!1;u(e)}return e[o].w},f=function(e){return c&&v.NEED&&l(e)&&!a(e,o)&&u(e),e},v=e.exports={KEY:o,NEED:!1,fastKey:d,getWeak:p,onFreeze:f}},function(e,n,t){var o=t(36),r=t(37),a=t(34),s=t(77),i=t(41).f;e.exports=function(e){var n=r.Symbol||(r.Symbol=a?{}:o.Symbol||{});"_"==e.charAt(0)||e in n||i(n,e,{value:s.f(e)})}},function(e,n,t){var o=t(56),r=t(58);e.exports=function(e,n){for(var t,a=r(e),s=o(a),i=s.length,l=0;i>l;)if(a[t=s[l++]]===n)return t}},function(e,n,t){var o=t(56),r=t(85),a=t(86);e.exports=function(e){var n=o(e),t=r.f;if(t)for(var s,i=t(e),l=a.f,c=0;i.length>c;)l.call(e,s=i[c++])&&n.push(s);return n}},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n){n.f={}.propertyIsEnumerable},function(e,n,t){var o=t(60);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,n,t){var o=t(58),r=t(89).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return r(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?i(e):r(o(e))}},function(e,n,t){var o=t(57),r=t(67).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,n,t){var o=t(86),r=t(49),a=t(58),s=t(48),i=t(51),l=t(44),c=Object.getOwnPropertyDescriptor;n.f=t(45)?c:function(e,n){if(e=a(e),n=s(n,!0),l)try{return c(e,n)}catch(e){}if(i(e,n))return r(!o.f.call(e,n),e[n])}},function(e,n){},function(e,n,t){t(82)("asyncIterator")},function(e,n,t){t(82)("observable")},function(e,n,t){e.exports={default:t(95),__esModule:!0}},function(e,n,t){var o=t(37),r=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,n){e.exports=require("jsonwebtoken")},function(e,n){"use strict";e.exports='<html lang="en">\n<head>\n  <title>Auth0 - Protocol Debugger</title>\n  <meta charset="UTF-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/4.6.13/lib/logos/img/favicon.png">\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n  <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css">\n  <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1715/css/index.min.css">\n  <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.css">\n  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/github.min.css">\n  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>\n  <style type="text/css">\n    p.controls-info {\n      font-size: 13px;\n      color: #000;\n      opacity: .56;\n      line-height: 18px;\n      margin: 8px 0 0 0;\n      clear: both;\n    }\n    code.xml {\n      color: black !important;\n      background-color: #fbfbfb !important;\n      margin-top: -25px !important;\n      margin-bottom: -51px !important;\n    }\n    pre.json-object {\n      background-color: #fbfbfb;\n      border: 1px solid #f1f1f1;\n      border-radius: 0px;\n      padding: 10px 10px;\n      font-size: 12px;\n    }\n    .json-object .json-key {\n      color: #16214D;\n    }\n    .json-object .json-value {\n      color: #01B48F;\n    }\n    .json-object .json-string {\n      color: #EB5424;\n    }\n  </style>\n</head>\n<body>\n<div id="app">\n  <div>\n    <header class="dashboard-header">\n      <nav role="navigation" class="navbar navbar-default">\n        <div class="container">\n          <div class="navbar-header">\n            <h1 class="navbar-brand" style="padding-top: 0px;"><a href="https://manage.auth0.com"><span>Auth0</span></a></h1>\n          </div>\n          <div id="navbar-collapse" class="collapse navbar-collapse">\n            <ul class="nav navbar-nav navbar-right">\n              <li><a target="_blank" href="https://auth0.com/support">Help &amp; Support</a></li>\n              <li><a target="_blank" href="https://auth0.com/docs">Documentation</a></li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </header>\n    <div class="container">\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="row">\n            <div class="col-xs-12">\n              <h1 class="pull-left" style="padding-top: 10px;">Protocol Debugger</h1>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n            \t<div class="widget-title title-with-nav-bars">\n            \t\t<ul id="tabs" class="nav nav-tabs">\n            \t\t\t<li class="active"><a data-toggle="tab" href="#login"><span class="tab-title">Login</span></a></li>\n              \t\t<li><a data-toggle="tab" href="#request"><span class="tab-title">Request</span></a></li>\n            \t\t</ul>\n            \t</div>\n            \t<div id="content-area" class="tab-content">\n                <div id="login" class="tab-pane active">\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div class="alert alert-warning">Rendering (including of hash fragment, client credentials ...) happens on the server, which means that in some cases your tokens might be sent to the webtask hosting this page. You can find the implementation <a href="https://github.com/sandrinodimattia/auth-protocol-debugger">on GitHub</a>.</div>\n                    </div>\n                    <div class="col-xs-12">\n                      <button id="reset_settings" class="btn btn-success">Clear Settings</button>\n                      <p class="controls-info">Hit this button if you want to remove everything from local storage.</p>\n                    </div>\n                    <div class="col-xs-12" style="margin-top: 25px">\n                      <div>\n                        <div class="widget-title title-with-nav-bars">\n                      \t\t<ul id="login-tabs" class="nav nav-tabs">\n                      \t\t\t<li class="active"><a data-toggle="tab" href="#configuration"><span class="tab-title">Configuration</span></a></li>\n                        \t\t<li><a data-toggle="tab" href="#oauth2"><span class="tab-title">OAuth2 / OIDC</span></a></li>\n                        \t\t<li><a data-toggle="tab" href="#other-flows"><span class="tab-title">Other Flows</span></a></li>\n                      \t\t</ul>\n                      \t</div>\n                      \t<div id="login-content-area" class="tab-content">\n                          <div id="configuration" class="tab-pane active">\n                            <p>Enter your account settings and additional application settings here (these will be persisted in localstorage).</p>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group"><label class="col-xs-2 control-label">Domain</label>\n                                <div class="col-xs-10">\n                                  <input id="domain" readonly type="text" class="form-control" value="{{domain}}">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Client</label>\n                                <div class="col-xs-10">\n                                  <select id="client" class="form-control">\n                                    {{#each clients}}\n                                      {{#unless global}}\n                                      <option value="{{client_id}}">{{name}}</option>\n                                      {{/unless}}\n                                    {{/each}}\n                                  </select>\n                                  <input id="client_id" type="hidden" class="form-control" value="{{client_id}}">\n                                  <input id="client_secret" type="hidden" class="form-control" value="{{client_secret}}">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Callback URL</label>\n                                <div class="col-xs-10">\n                                  <input id="callback_url" readonly type="text" class="form-control" value="">\n                                  <p class="controls-info">Make sure you configure this as the Callback Url on your client.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">SSO</label>\n                                <div class="col-xs-3">\n                                  <div class="ui-switch">\n                                    <input id="use_sso" type="checkbox"/>\n                                    <label class="status"></label>\n                                  </div>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">State</label>\n                                <div class="col-xs-10">\n                                  <input id="state" type="text" class="form-control" value="">\n                                  <p class="controls-info">This might translate to RelayState or wctx depending on the protocol.</p>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Connection</label>\n                                <div class="col-xs-10">\n                                  <input id="connection" type="text" class="form-control" value="">\n                                  <p class="controls-info">Sprecify the name of a connection to skip the login page (eg: <strong>google-oauth2</strong>).</p>\n                                </div>\n                              </div>\n                            </form>\n                          </div>\n                          <div id="oauth2" class="tab-pane">\n                            <div class="alert alert-info">Specification: <a href="https://tools.ietf.org/html/rfc6749#section-1.3.3">OAuth2</a></div>\n                            <h5>User Flows</h5>\n                            <button id="oidc_oauth2" class="btn btn-primary">OAuth2 / OIDC Login</button>\n                            <button id="oauth2_code_exchange" class="btn btn-primary">OAuth2 Code Exchange</button>\n                            <button id="oauth2_refresh_token_exchange" class="btn btn-primary">OAuth2 Refresh Token Exchange</button>\n                            <p class="controls-info">The exchanges will use the Client ID (and optionally Secret) from the Configuration tab.</p>\n                            <h5>Machine to Machine</h5>\n                            <button id="oauth2_client_credentials" class="btn btn-primary">OAuth2 Client Credentials</button>\n                            <p class="controls-info">This will use the Client ID and Secret from the Configuration tab.</p>\n                            <h5>Resource Owner Password Credentials</h5>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group"><label class="col-xs-2 control-label">Username</label>\n                                <div class="col-xs-10">\n                                  <input id="username" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Password</label>\n                                <div class="col-xs-6">\n                                  <input id="password" type="password" class="form-control" value="">\n                                  <p class="controls-info">Optional: Only store passwords for test accounts here.</p>\n                                </div>\n                                <div class="col-xs-4">\n                                  <div class="ui-switch ui-switch-labeled ui-switch-xl">\n                                    <input id="save_password" type="checkbox" />\n                                    <label data-label-true="Save in Local Storage" data-label-false="Don\'t Save in Local Storage" class="status"></label>\n                                  </div>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Device</label>\n                                <div class="col-xs-10">\n                                  <input id="device" type="text" class="form-control" value="">\n                                  <p class="controls-info">This field is here for legacy purposes. It\'s not part of the spec.</p>\n                                </div>\n                              </div>\n                            </form>\n                            <button id="oauth2_password_grant" class="btn btn-primary">Password Grant</button>\n                            <button id="oauth2_ro" class="btn btn-primary">Resource Owner Endpoint</button>\n                            <p class="controls-info">The Resource Owner Endpoint is here for legacy purposes. It\'s not part of the spec.</p>\n                            <h5>Delegation</h5>\n                            <p class="controls-info">Not part of the spec - this is here for legacy purposes only.</p>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group"><label class="col-xs-2 control-label">ID Token</label>\n                                <div class="col-xs-10">\n                                  <input id="delegation_id_token" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Refresh Token</label>\n                                <div class="col-xs-10">\n                                  <input id="delegation_refresh_token" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Target Client ID</label>\n                                <div class="col-xs-10">\n                                  <input id="delegation_target" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                            </form>\n                            <button id="oauth2_delegation" class="btn btn-primary">Delegation</button>\n                            <h5>Settings</h5>\n                            <p>The following settings might behave differently if you\'re using OAuth2 as a Service (Preview)</p>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">PKCE</label>\n                                <div class="col-xs-10">\n                                  <div class="ui-switch">\n                                    <input id="use_pkce" type="checkbox"/>\n                                    <label class="status"></label>\n                                  </div>\n                                  <p class="controls-info">The PKCE (Proof Key for Code Exchange by OAuth Public Clients) or Hybrid Flow is a better alternative to the implicit flow for Mobile Apps. In Auth0, make sure you set the client type to "Native".</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Audience</label>\n                                <div class="col-xs-7">\n                                  <input id="audience" type="text" class="form-control" value="">\n                                  <p class="controls-info">Only required when you need an access token.</p>\n                                </div>\n                                <div class="col-xs-3">\n                                  <div class="ui-switch ui-switch-labeled ui-switch-md">\n                                    <input id="use_audience" type="checkbox" />\n                                    <label data-label-true="Save in Local Storage" data-label-false="Use Audience" class="status"></label>\n                                  </div>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Authorization Code</label>\n                                <div class="col-xs-10">\n                                  <input id="authorization_code" type="text" class="form-control" value="{{authorization_code}}">\n                                  <p class="controls-info">Set the response type to <strong>code</strong> and then press the <strong>OIDC / OAuth2</strong> button to get an authorization code.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Code Verifier</label>\n                                <div class="col-xs-10">\n                                  <input id="code_verifier" type="text" class="form-control" value="{{code_verifier}}">\n                                  <p class="controls-info">If you\'re using <strong>PKCE</strong>, this is what will be used instead of the Client Secret.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Refresh Token</label>\n                                <div class="col-xs-10">\n                                  <input id="refresh_token" type="text" class="form-control" value="{{refresh_token}}">\n                                  <p class="controls-info">Set the response type to <strong>code</strong>, request the <strong>offline_access</strong> scope and then press the <strong>OIDC / OAuth2</strong> button to get an authorization code.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Response Type</label>\n                                <div class="col-xs-10">\n                                  <input id="response_type" type="text" class="form-control" value="">\n                                  <p class="controls-info">You can try a mix of <strong>code</strong>, <strong>id_token</strong>, <strong>token</strong></p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Response Mode</label>\n                                <div class="col-xs-10">\n                                  <input id="response_mode" type="text" class="form-control" value="">\n                                  <p class="controls-info">You can try something like <strong>fragment</strong>, <strong>query</strong> or <strong>form_post</strong></p>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Scope</label>\n                                <div class="col-xs-10">\n                                  <input id="scope" type="text" class="form-control" value="openid name email">\n                                  <p class="controls-info">You can try something like <strong>openid name email read:appointments</strong></p>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Prompt</label>\n                                <div class="col-xs-10">\n                                  <input id="prompt" type="text" class="form-control" value="openid name email">\n                                  <p class="controls-info">You can try something like <strong>consent</strong> or <strong>login</strong></p>\n                                </div>\n                              </div>\n                            </form>\n                          </div>\n                          <div id="other-flows" class="tab-pane">\n                            <button id="saml" class="btn btn-primary">SAML</button>\n                            <button id="wsfed" class="btn btn-primary">WS-Federation</button>\n                            <h5>Logout</h5>\n                            <button id="logout" class="btn btn-primary">Logout</button>\n                            <button id="logout-federated" class="btn btn-primary">Logout (Federated)</button>\n                            <h5>SSO</h5>\n                            <button id="sso-data" class="btn btn-primary">Get SSO Data</button>\n                            <div id="sso-data-output"></div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            \t\t<div id="request" class="tab-pane">\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Details</h5>\n                        <form class="form-horizontal col-xs-12">\n                          <div class="form-group"><label class="col-xs-1 control-label">Method</label>\n                            <div class="col-xs-11"><input type="text" readonly="" class="form-control" value="{{method}}"></div>\n                          </div>\n                          <div class="form-group"><label class="col-xs-1 control-label">Url</label>\n                            <div class="col-xs-11"><input type="text" readonly="" class="form-control" value="{{baseUrl}}"></div>\n                          </div>\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                  {{#if body}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Body</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{body}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if id_token}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>ID Token</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{id_token}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if access_token}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Access Token</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{access_token}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  <div id="hash_fragment"></div>\n                  {{#if samlResponse}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>SAML Response</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre>\n                        <code class="xml">{{{samlResponse}}}</code>\n                      </pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if wsFedResult}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>WS-Federation Result</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre>\n                        <code class="xml">{{{wsFedResult}}}</code>\n                      </pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if query}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Query</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{query}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Headers</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{headers}}}</pre>\n                    </div>\n                  </div>\n            \t\t</div>\n            \t\t<div id="login" class="tab-pane">\n            \t\t</div>\n            \t</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id="modal-dialog" tabindex="-1" role="dialog" aria-hidden="true" class="modal">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header has-border">\n          <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>\n          <h4 id="modal-title" class="modal-title"></h4>\n        </div>\n        <div id="modal-body" class="modal-body"></div>\n        <div class="modal-footer">\n          <button data-dismiss="modal" id="close-modal" type="button" class="btn btn-primary">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.js"></script>\n<script src="//cdn.jsdelivr.net/lodash/4.17.0/lodash.min.js"></script>\n<script src="//cdn.auth0.com/w2/auth0-6.js"></script>\n<script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1715/js/bundle.js"></script>\n<script>hljs.initHighlightingOnLoad();</script>\n<script type="text/javascript">\nvar clients = [ \n{{#each clients}}\n{\n  client_id: "{{ client_id }}",\n  client_secret: "{{ client_secret }}"\n}\n{{#unless @last}}\n,\n{{/unless}}\n{{/each}}\n];\n\nfunction read() {\n  $(\'#audience\').val(localStorage.getItem(\'auth_debugger_audience\'));\n  $(\'#callback_url\').val(window.location.protocol + "//" + window.location.hostname + (window.location.port ? \':\' + window.location.port : \'\') + window.location.pathname);\n  $(\'#client\').val(localStorage.getItem(\'auth_debugger_client\'));\n  //$(\'#client_id\').val(localStorage.getItem(\'auth_debugger_client_id\') || \'IsTxQ7jAYAXL5r5HM4L1RMzsSG0UHeOy\');\n  //$(\'#client_secret\').val(localStorage.getItem(\'auth_debugger_client_secret\'));\n  $(\'#code_verifier\').val(localStorage.getItem(\'auth_debugger_code_verifier\'));\n  $(\'#connection\').val(localStorage.getItem(\'auth_debugger_connection\'));\n  $(\'#device\').val(localStorage.getItem(\'auth_debugger_device\'));\n  //$(\'#domain\').val(localStorage.getItem(\'auth_debugger_domain\') || \'sandrino.auth0.com\');\n  $(\'#password\').val(localStorage.getItem(\'auth_debugger_password\'));\n  $(\'#delegation_target\').val(localStorage.getItem(\'auth_debugger_delegation_target\'));\n  $(\'#prompt\').val(localStorage.getItem(\'auth_debugger_prompt\') || \'\');\n  $(\'#refresh_token\').val(localStorage.getItem(\'auth_debugger_refresh_token\'));\n  $(\'#response_mode\').val(localStorage.getItem(\'auth_debugger_response_mode\') || \'\');\n  $(\'#response_type\').val(localStorage.getItem(\'auth_debugger_response_type\') || \'token\');\n  //$(\'#save_client_secret\').prop(\'checked\', localStorage.getItem(\'auth_debugger_client_secret\') && localStorage.getItem(\'auth_debugger_client_secret\').length);\n  $(\'#save_password\').prop(\'checked\', localStorage.getItem(\'auth_debugger_password\') && localStorage.getItem(\'auth_debugger_password\').length);\n  $(\'#scope\').val(localStorage.getItem(\'auth_debugger_scope\') || \'openid name email nickname\');\n  $(\'#state\').val(localStorage.getItem(\'auth_debugger_state\') || \'my-custom-state\');\n  $(\'#username\').val(localStorage.getItem(\'auth_debugger_username\'));\n  if (localStorage.getItem(\'auth_debugger_use_audience\') === "1") {\n    $(\'#use_audience\').prop(\'checked\', \'checked\');\n  }\n  if (localStorage.getItem(\'auth_debugger_use_pkce\') === "1") {\n    $(\'#use_pkce\').prop(\'checked\', \'checked\');\n  }\n  if (localStorage.getItem(\'auth_debugger_use_sso\') === "1") {\n    $(\'#use_sso\').prop(\'checked\', \'checked\');\n  }\n}\nfunction save() {\n  localStorage.setItem(\'auth_debugger_audience\', $(\'#audience\').val());\n  localStorage.setItem(\'auth_debugger_client\', $(\'#client\').val());\n  //localStorage.setItem(\'auth_debugger_client_id\', $(\'#client_id\').val());\n  //localStorage.setItem(\'auth_debugger_client_secret\', $(\'#save_client_secret\').is(\':checked\') ? $(\'#client_secret\').val() : \'\');\n  localStorage.setItem(\'auth_debugger_code_verifier\', $(\'#code_verifier\').val());\n  localStorage.setItem(\'auth_debugger_connection\', $(\'#connection\').val());\n  //localStorage.setItem(\'auth_debugger_domain\', $(\'#domain\').val());\n  localStorage.setItem(\'auth_debugger_delegation_target\', $(\'#delegation_target\').val());\n  localStorage.setItem(\'auth_debugger_device\', $(\'#device\').val());\n  localStorage.setItem(\'auth_debugger_password\', $(\'#save_password\').is(\':checked\') ? $(\'#save_password\').val() : \'\');\n  localStorage.setItem(\'auth_debugger_prompt\', $(\'#prompt\').val());\n  localStorage.setItem(\'auth_debugger_refresh_token\', $(\'#refresh_token\').val());\n  localStorage.setItem(\'auth_debugger_response_mode\', $(\'#response_mode\').val());\n  localStorage.setItem(\'auth_debugger_response_type\', $(\'#response_type\').val());\n  localStorage.setItem(\'auth_debugger_scope\', $(\'#scope\').val());\n  localStorage.setItem(\'auth_debugger_state\', $(\'#state\').val());\n  localStorage.setItem(\'auth_debugger_use_audience\', $(\'#use_audience\').is(\':checked\') ? "1" : "0");\n  localStorage.setItem(\'auth_debugger_use_pkce\', $(\'#use_pkce\').is(\':checked\') ? "1" : "0");\n  localStorage.setItem(\'auth_debugger_use_sso\', $(\'#use_sso\').is(\':checked\') ? "1" : "0");\n  localStorage.setItem(\'auth_debugger_username\', $(\'#username\').val());\n}\nfunction setSelectedClientSecrets() {\n  selectedClient = _.find(clients, { \'client_id\': $(\'#client\').val()});\n\n    if (selectedClient) {\n      $(\'#client_id\').val(selectedClient.client_id);\n      $(\'#client_secret\').val(selectedClient.client_secret);\n    } else {\n      $(\'#client_id\').val(\'\');\n      $(\'#client_secret\').val(\'\');\n    }\n}\nfunction executeRequest(title, url, opt) {\n  save();\n  $(\'#modal-title\').html(title);\n  $(\'#modal-body\').html(\'Loading...\');\n  $(\'#modal-dialog\').modal({ show: true });\n  $.post(url, opt)\n    .done(function(data) {\n      data.request = opt;\n      if (data.refresh_token) {\n        localStorage.setItem(\'auth_debugger_refresh_token\', data.refresh_token);\n      }\n      if (data.request.password) {\n        data.request.password = \'*****************\';\n      }\n      if (data.request.client_secret) {\n        data.request.client_secret = \'*****************\';\n      }\n      $.ajax({ type: "POST", url: \'{{baseUrl}}/request\', data: JSON.stringify(data), contentType: \'application/json\' })\n        .done(function(data) {\n          $(\'#modal-body\').html(data);\n          $(\'#modal-body\').prepend($(\'<pre/>\', { \'class\':\'json-object\', \'html\': \'POST \' + url }));\n        })\n        .fail(function(err) {\n          $(\'#modal-body\').html(\'<p>Error decoding the response.</p>\');\n          $(\'<pre/>\', { \'class\':\'json-object\', \'html\': err.responseText || err.name || err.text || err.body || err.status }).appendTo(\'#modal-body\');\n        });\n    })\n    .fail(function(err) {\n      if (opt.password) {\n        opt.password = \'*****************\';\n      }\n      if (opt.client_secret) {\n        opt.client_secret = \'*****************\';\n      }\n      $.ajax({ type: "POST", url: \'{{baseUrl}}/request\', data: JSON.stringify({ request: opt, err: err }), contentType: \'application/json\' })\n        .done(function(data) {\n          $(\'#modal-body\').html(data);\n          $(\'#modal-body\').prepend($(\'<pre/>\', { \'class\':\'json-object\', \'html\': \'POST \' + url }));\n        })\n        .fail(function(err) {\n          $(\'#modal-body\').html(\'<p>Error decoding the response.</p>\');\n          $(\'<pre/>\', { \'class\':\'json-object\', \'html\': err.responseText || err.name || err.text || err.body || err.status }).appendTo(\'#modal-body\');\n        });\n    });\n}\nif (!window.location.origin) {\n  window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? \':\' + window.location.port : \'\');\n}\nvar callbackUrl = window.location.origin + window.location.pathname;\n$(function () {\n  read();\n  setSelectedClientSecrets();\n  if ("{{method}}" === \'POST\' || (window.location.hash && window.location.hash.length > 1) || (window.location.search && window.location.search.length > 1 && window.location.search !== \'?webtask_no_cache=1\')) {\n    $(\'#tabs a[href="#request"]\').tab(\'show\');\n  }\n  if (window.location.hash && window.location.hash.length > 1) {\n    $(\'#hash_fragment\').load(window.location.origin + window.location.pathname + \'/hash?\' + window.location.hash.replace(/^#/,""));\n  }\n  $(\'#client\').change(function(e) {\n    setSelectedClientSecrets();\n  });\n  $(\'#saml\').click(function(e) {\n    e.preventDefault();\n    save();\n    var url = \'https://\' + $(\'#domain\').val() + \'/samlp/\' + $(\'#client_id\').val() + \'?RelayState=\' + encodeURIComponent($(\'#state\').val());\n    url = url + \'&redirect_uri=\' + encodeURIComponent(callbackUrl);\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      url = url + \'&connection=\' + encodeURIComponent($(\'#connection\').val());\n    }\n    window.location.href = url;\n  });\n  $(\'#wsfed\').click(function(e) {\n    e.preventDefault();\n    save();\n    var url = \'https://\' + $(\'#domain\').val() + \'/wsfed/\' + $(\'#client_id\').val() + \'?wctx=\' + encodeURIComponent($(\'#state\').val());\n    url = url + \'&wreply=\' + encodeURIComponent(callbackUrl);\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      url = url + \'&wtrealm=\' + encodeURIComponent($(\'#connection\').val());\n    }\n    window.location.href = url;\n  });\n  $(\'#logout\').click(function(e) {\n    e.preventDefault();\n    save();\n    window.location.href = \'https://\' + $(\'#domain\').val() + \'/v2/logout?client_id=\' + $(\'#client_id\').val() + \'&returnTo=\' + encodeURIComponent(callbackUrl);\n  });\n  $(\'#logout-federated\').click(function(e) {\n    e.preventDefault();\n    save();\n    window.location.href = \'https://\' + $(\'#domain\').val() + \'/v2/logout?federated&client_id=\' + $(\'#client_id\').val() + \'&returnTo=\' + encodeURIComponent(callbackUrl);\n  });\n  $(\'#reset_settings\').click(function(e) {\n    e.preventDefault();\n    for (key in localStorage) {\n      if (key.indexOf(\'auth_debugger_\') === 0) {\n        delete localStorage[key];\n      }\n    }\n    read();\n  });\n  $(\'#oauth2_client_credentials\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      audience: $(\'#audience\').val(),\n      client_id: $(\'#client_id\').val(),\n      client_secret: $(\'#client_secret\').val(),\n      grant_type: \'client_credentials\'\n    };\n    executeRequest(\'OAuth2 - Client Credentials\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_code_exchange\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      redirect_uri: callbackUrl,\n      code: $(\'#authorization_code\').val(),\n      grant_type: \'authorization_code\'\n    };\n    if ($(\'#use_audience\').is(\':checked\') && $(\'#audience\').val() && $(\'#audience\').val().length) {\n      opt.audience = $(\'#audience\').val();\n    }\n    if ($(\'#use_pkce\').is(\':checked\')) {\n      opt.code_verifier = $(\'#code_verifier\').val();\n    } else {\n      opt.client_secret = $(\'#client_secret\').val();\n    }\n    executeRequest(\'OAuth2 - Authorization Code Exchange\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_refresh_token_exchange\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      refresh_token: $(\'#refresh_token\').val(),\n      grant_type: \'refresh_token\'\n    };\n    if ($(\'#use_audience\').is(\':checked\') && $(\'#audience\').val() && $(\'#audience\').val().length) {\n      opt.audience = $(\'#audience\').val();\n    }\n    if ($(\'#use_pkce\').is(\':checked\')) {\n      opt.code_verifier = $(\'#code_verifier\').val();\n    } else {\n      opt.client_secret = $(\'#client_secret\').val();\n    }\n    executeRequest(\'OAuth2 - Refresh Token Exchange\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_password_grant\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      username: $(\'#username\').val(),\n      password: $(\'#password\').val(),\n      grant_type: \'password\',\n      scope: $(\'#scope\').val()\n    };\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      opt.connection = $(\'#connection\').val();\n    }\n    executeRequest(\'OAuth2 - Password Grant\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_ro\').click(function(e) {\n    e.preventDefault();\n    if ($(\'#use_sso\').is(\':checked\')) {\n      save();\n      var auth0 = new Auth0({\n        domain: $(\'#domain\').val(),\n        clientID: $(\'#client_id\').val(),\n        callbackURL: callbackUrl\n      });\n      var options = {\n        state: $(\'#state\').val(),\n        sso: $(\'#use_sso\').is(\':checked\'),\n        username: $(\'#username\').val(),\n        password: $(\'#password\').val(),\n        connection: $(\'#connection\').val(),\n        scope: $(\'#scope\').val()\n      };\n      if ($(\'#device\').val() && $(\'#device\').val().length) {\n        options.device = $(\'#device\').val();\n      }\n      return auth0.login(options);\n    }\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      username: $(\'#username\').val(),\n      password: $(\'#password\').val(),\n      grant_type: \'password\',\n      scope: $(\'#scope\').val()\n    };\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      opt.connection = $(\'#connection\').val();\n    }\n    if ($(\'#device\').val() && $(\'#device\').val().length) {\n      opt.device = $(\'#device\').val();\n    }\n    executeRequest(\'OAuth2 - Resource Owner\', \'https://\' + $(\'#domain\').val() + \'/oauth/ro\', opt);\n  });\n  $(\'#oauth2_delegation\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      grant_type: \'urn:ietf:params:oauth:grant-type:jwt-bearer\',\n      scope: $(\'#scope\').val()\n    };\n    if ($(\'#delegation_target\').val() && $(\'#delegation_target\').val().length) {\n      opt.target = $(\'#delegation_target\').val();\n    }\n    if ($(\'#delegation_id_token\').val() && $(\'#delegation_id_token\').val().length) {\n      opt.id_token = $(\'#delegation_id_token\').val();\n    }\n    if ($(\'#delegation_refresh_token\').val() && $(\'#delegation_refresh_token\').val().length) {\n      opt.refresh_token = $(\'#delegation_refresh_token\').val();\n    }\n    executeRequest(\'OAuth2 - Delegation\', \'https://\' + $(\'#domain\').val() + \'/delegation\', opt);\n  });\n  $(\'#oidc_oauth2\').click(function(e) {\n    e.preventDefault();\n    save();\n    // Don\'t do this in production. The client should always generate the verifier, and not rely on a remote server to do this.\n    $.get(\'{{baseUrl}}/pkce\')\n      .done(function(data) {\n        var auth0 = new Auth0({\n          domain: $(\'#domain\').val(),\n          clientID: $(\'#client_id\').val(),\n          callbackURL: callbackUrl\n        });\n        var options = {\n          state: $(\'#state\').val(),\n          sso: $(\'#use_sso\').is(\':checked\'),\n        };\n        if ($(\'#use_pkce\').is(\':checked\')) {\n          options.code_challenge = data.verifier_challenge;\n          options.code_challenge_method = \'S256\';\n          localStorage.setItem(\'auth_debugger_code_verifier\', data.verifier);\n        }\n        if ($(\'#scope\').val() && $(\'#scope\').val().length) {\n          options.scope = $(\'#scope\').val();\n        }\n        if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n          options.connection = $(\'#connection\').val();\n        }\n        if ($(\'#use_audience\').is(\':checked\') && $(\'#audience\').val() && $(\'#audience\').val().length) {\n          options.audience = $(\'#audience\').val();\n        }\n        if ($(\'#response_type\').val() && $(\'#response_type\').val().length) {\n          options.response_type = $(\'#response_type\').val();\n        }\n        if ($(\'#response_mode\').val() && $(\'#response_mode\').val().length) {\n          options.response_mode = $(\'#response_mode\').val();\n        }\n        if ($(\'#prompt\').val() && $(\'#prompt\').val().length) {\n          options.prompt = $(\'#prompt\').val();\n        }\n        auth0.login(options);\n      });\n  });\n  $(\'#sso-data\').click(function(e) {\n    e.preventDefault();\n    save();\n    var auth0 = new Auth0({\n      domain: $(\'#domain\').val(),\n      clientID: $(\'#client_id\').val(),\n      callbackURL: callbackUrl\n    });\n    $(\'#sso-data-output\').html(\'Loading...\');\n    auth0.getSSOData(function(err, res) {\n      $.ajax({ type: "POST", url: \'{{baseUrl}}/request\', data: JSON.stringify({ error: err, response: res }), contentType: \'application/json\' })\n        .done(function(data) {\n          $(\'#sso-data-output\').html(data);\n        })\n        .fail(function(err) {\n          $(\'#sso-data-output\').html(\'\');\n          $(\'<pre/>\', { \'class\':\'json-object\', \'html\': err.responseText || err.name || err.text || err.body || err.status }).appendTo(\'#sso-data-output\');\n        });\n    });\n  });\n});\n</script>\n</body>\n</html>\n';
},function(e,n){"use strict";e.exports='\n{{#if request}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Request</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{request}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if response}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Response</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{response}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if hash}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Hash Fragment</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{hash}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if id_token}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>ID Token</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{id_token}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if access_token}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Access Token</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{access_token}}}</pre>\n  </div>\n</div>\n{{/if}}\n'},function(e,n,t){"use strict";var o=t(3),r=t(5),a=r.Router(),s=t(100);if("development"===(process.env.NODE_ENV||"development")){s.argv().env().file(o.join(__dirname,"./../config.json"));var i=t(4).randomBytes(32).toString("hex");a.use(function(e,n,t){e.webtaskContext={data:{EXTENSION_SECRET:i,AUTH0_DOMAIN:s.get("AUTH0_DOMAIN"),AUTH0_CLIENT_ID:s.get("AUTH0_CLIENT_ID"),AUTH0_CLIENT_SECRET:s.get("AUTH0_CLIENT_SECRET")}},t()})}e.exports=a},function(e,n){e.exports=require("nconf")}]);